<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>SpringBoot_school</title>
    <link href="/2023/03/13/SpringBoot_school/"/>
    <url>/2023/03/13/SpringBoot_school/</url>
    
    <content type="html"><![CDATA[<h3 id="建立基本的SpringBoot项目"><a href="#建立基本的SpringBoot项目" class="headerlink" title="建立基本的SpringBoot项目"></a>建立基本的SpringBoot项目</h3><ol><li><p>创建一个maven项目，在pom文件继承<parent></parent>依赖</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java">&lt;parent&gt;<br>        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;<br>        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;<br>        &lt;version&gt;<span class="hljs-number">2.7</span><span class="hljs-number">.8</span>&lt;/version&gt;<br>&lt;/parent&gt;<br></code></pre></td></tr></table></figure></li><li><p>在pom中添加SpringBoot依赖</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs java">&lt;dependencies&gt;<br>    &lt;dependency&gt;<br>        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;<br>        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;<br>    &lt;/dependency&gt;<br>   <br>    &lt;dependency&gt;<br>        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;<br>        &lt;artifactId&gt;lombok&lt;/artifactId&gt;<br>        &lt;optional&gt;<span class="hljs-literal">true</span>&lt;/optional&gt;<br>    &lt;/dependency&gt;<br>   <br>    &lt;dependency&gt;<br>        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;<br>        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;<br>    &lt;/dependency&gt;<br>   <br>    &lt;!--        实现Spring项目的热部署--&gt;<br>    &lt;dependency&gt;<br>        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;<br>        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;<br>        &lt;optional&gt;<span class="hljs-literal">true</span>&lt;/optional&gt;<br>    &lt;/dependency&gt;<br>   <br>    &lt;!--数据校验依赖--&gt;<br>    &lt;dependency&gt;<br>        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;<br>        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;<br>    &lt;/dependency&gt;<br>   <br>    &lt;!--spring-boot和mybatis-plus整合的jar--&gt;<br>    &lt;dependency&gt;<br>        &lt;groupId&gt;com.baomidou&lt;/groupId&gt;<br>        &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt;<br>        &lt;version&gt;<span class="hljs-number">3.5</span><span class="hljs-number">.3</span>&lt;/version&gt;<br>    &lt;/dependency&gt;<br>   <br>    &lt;dependency&gt;<br>        &lt;groupId&gt;com.mysql&lt;/groupId&gt;<br>        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;<br>        &lt;scope&gt;runtime&lt;/scope&gt;<br>    &lt;/dependency&gt;<br>   <br>&lt;/dependencies&gt;<br></code></pre></td></tr></table></figure></li><li><p>新建SpringBootApplication.java运行类，添加@SpringBootApplication注解</p></li></ol><h3 id="SpringBoot全局配置文件"><a href="#SpringBoot全局配置文件" class="headerlink" title="SpringBoot全局配置文件"></a>SpringBoot全局配置文件</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">application.properties</span><br><span class="hljs-comment">#配置tomcat端口号</span><br><span class="hljs-string">server.port=8080</span><br><span class="hljs-comment">#server项目访问路径</span><br><span class="hljs-attr">server.servlet.context-path:</span> <span class="hljs-string">/toutiao2023</span><br><br><span class="hljs-string">application.yml</span><br><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">8899</span><br>  <span class="hljs-attr">servlet:</span><br>    <span class="hljs-attr">context-path:</span> <span class="hljs-string">/toutiao2023</span><br></code></pre></td></tr></table></figure><h3 id="SpringBoot自定义配置"><a href="#SpringBoot自定义配置" class="headerlink" title="SpringBoot自定义配置"></a>SpringBoot自定义配置</h3><p>1、在SpringBoot工程中，使用@ConfigurationProperties注入基本属性url、username、password、email、数组属性userList、Map属性pass，通过validation对email属性的值进行验证；</p><p>2、使用@Value注入属性uploadPath，使用SpEL表达式注入属性值；</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Component</span><br><span class="hljs-comment">//@Component代表是Spring容器中的bean对象</span><br><span class="hljs-meta">@ConfigurationProperties(prefix = &quot;prop&quot;)</span><br><span class="hljs-comment">//@ConfigurationProperties代表将配置文件当中的属性注入到类的属性当中</span><br><span class="hljs-comment">//prefix = “prop” 表示以prop为前缀的属性</span><br><span class="hljs-meta">@Data</span><br><span class="hljs-meta">@Validated</span><br><span class="hljs-comment">//@Validated表示要对属性进行校验</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Prop</span> &#123;<br>    <span class="hljs-keyword">private</span> String username;<br>    <span class="hljs-keyword">private</span> String password;<br>    <span class="hljs-keyword">private</span> String users[];<br>    <span class="hljs-keyword">private</span> Map passes;<br>    <span class="hljs-meta">@Email(message = &quot;邮箱格式错误!&quot;)</span><br><span class="hljs-comment">//    @Email  表示该属性必须遵守email正确的格式，message表示错误格式</span><br>    <span class="hljs-keyword">private</span> String email;<br>    <span class="hljs-meta">@Value(&quot;$&#123;upload.path&#125;&quot;)</span><br>    <span class="hljs-keyword">private</span> String uploadPath;<br>    <span class="hljs-meta">@Value(&quot;#&#123;5*6&#125;&quot;)</span><br>    <span class="hljs-keyword">private</span> String result;<br>&#125;<br><br>application.yml<br>prop:<br>  userName: jerry<br>  pass_word: <span class="hljs-number">123456</span><br>  users: [tom,jack,tough]<br>  passes: &#123;tom: <span class="hljs-number">123</span>,jack: <span class="hljs-number">456</span>,tough: <span class="hljs-number">789</span>&#125;<br>  email: yunfree163@<span class="hljs-number">163.</span>com<br>upload:<br>  path: E:\ServiceFile\<br></code></pre></td></tr></table></figure><p>3、在SpringBoot工程中，使用@PropertySource读取自定义配置文件属性</p><p>4、使用@Configuration编写自定义配置类；</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Configuration</span><br><span class="hljs-comment">//@Configuration 和component一样不过标记为配置类</span><br><span class="hljs-meta">@PropertySource(&quot;classpath:test.properties&quot;)</span><br><span class="hljs-comment">//@PropertySource 表示读取自定义的配置文件</span><br><span class="hljs-meta">@ConfigurationProperties(prefix = &quot;info&quot;)</span><br><span class="hljs-meta">@Data</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyProp</span> &#123;<br>    <span class="hljs-keyword">private</span> String user;<br>    <span class="hljs-keyword">private</span> String pass;<br>&#125;<br><br>test.properties<br>info.user = monica<br>info.pass = <span class="hljs-number">1234</span><br></code></pre></td></tr></table></figure><h3 id="SpringBoot多环境配置"><a href="#SpringBoot多环境配置" class="headerlink" title="SpringBoot多环境配置"></a>SpringBoot多环境配置</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-number">1</span><span class="hljs-string">、在SpringBoot工程中，进行多环境配置，在多个配置文件中使用不同的端口号；</span><br><span class="hljs-number">2</span><span class="hljs-string">、在全局配置文件中激活对应的配置文件，</span><br><span class="hljs-string">源代码：</span><br><span class="hljs-string">application.properties</span><br><span class="hljs-string">spring.profiles.active=test</span><br><br><span class="hljs-string">application-test.properties</span><br><span class="hljs-comment">#测试环境</span><br><span class="hljs-string">server.port=8888</span><br><br><span class="hljs-string">application-prod.properties</span><br><span class="hljs-comment">#生产环境</span><br><span class="hljs-string">server.port=9999</span><br></code></pre></td></tr></table></figure><h3 id="SpringBoot存储静态文件在本机配置"><a href="#SpringBoot存储静态文件在本机配置" class="headerlink" title="SpringBoot存储静态文件在本机配置"></a>SpringBoot存储静态文件在本机配置</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">upload:</span><br> <span class="hljs-attr">path:</span> <span class="hljs-string">E:\ServiceFile\</span><br> <span class="hljs-attr">oldPath:</span> <span class="hljs-string">C:\Users\yunfree\Pictures\toutiao\uploadFile</span><br><br><br><span class="hljs-attr">mvc:</span><br>   <span class="hljs-attr">static-path-pattern:</span> <span class="hljs-string">/pic/**</span><br> <span class="hljs-attr">web:</span><br>   <span class="hljs-attr">resources:</span><br>     <span class="hljs-attr">static-locations:</span> <span class="hljs-string">file$&#123;oldPath&#125;</span><br>     <br>     <br><br></code></pre></td></tr></table></figure><h3 id="Mybatis-plus自动生成代码"><a href="#Mybatis-plus自动生成代码" class="headerlink" title="Mybatis-plus自动生成代码"></a>Mybatis-plus自动生成代码</h3><h4 id="Mybatis-plus代码生成器-生成Controller、Service、Mapper、Model代码；"><a href="#Mybatis-plus代码生成器-生成Controller、Service、Mapper、Model代码；" class="headerlink" title="Mybatis-plus代码生成器,生成Controller、Service、Mapper、Model代码；"></a>Mybatis-plus代码生成器,生成Controller、Service、Mapper、Model代码；</h4><p>依赖</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.baomidou<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-plus-generator<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.5.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.velocity<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>velocity-engine-core<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><p>生成配置启动代码</p><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs x86asm"><span class="hljs-meta">public</span> class UserGenerator &#123;<br>    <span class="hljs-meta">public</span> static void main(String[] args) &#123;<br>        List&lt;String&gt; tables = new ArrayList&lt;&gt;()<span class="hljs-comment">;</span><br>        tables<span class="hljs-number">.</span><span class="hljs-keyword">add</span>(<span class="hljs-string">&quot;user&quot;</span>)<span class="hljs-comment">;</span><br>        tables<span class="hljs-number">.</span><span class="hljs-keyword">add</span>(<span class="hljs-string">&quot;chatmsg&quot;</span>)<span class="hljs-comment">;</span><br>        tables<span class="hljs-number">.</span><span class="hljs-keyword">add</span>(<span class="hljs-string">&quot;comment&quot;</span>)<span class="hljs-comment">;</span><br>        tables<span class="hljs-number">.</span><span class="hljs-keyword">add</span>(<span class="hljs-string">&quot;kind&quot;</span>)<span class="hljs-comment">;</span><br>        tables<span class="hljs-number">.</span><span class="hljs-keyword">add</span>(<span class="hljs-string">&quot;article&quot;</span>)<span class="hljs-comment">;</span><br>        tables<span class="hljs-number">.</span><span class="hljs-keyword">add</span>(<span class="hljs-string">&quot;picture&quot;</span>)<span class="hljs-comment">;</span><br>        tables<span class="hljs-number">.</span><span class="hljs-keyword">add</span>(<span class="hljs-string">&quot;log&quot;</span>)<span class="hljs-comment">;</span><br><br>        FastAutoGenerator<span class="hljs-number">.</span>create(<span class="hljs-string">&quot;jdbc:mysql://localhost:3306/toutiaodb&quot;</span>,<span class="hljs-string">&quot;root&quot;</span>,<br>                        <span class="hljs-string">&quot;123456&quot;</span>)<br><span class="hljs-meta">                .globalConfig</span>(builder -&gt; &#123;<br>                    builder<span class="hljs-number">.</span>author(<span class="hljs-string">&quot;yunfree&quot;</span>)               //作者<br><span class="hljs-meta">                            .outputDir</span>(System<span class="hljs-number">.</span>getProperty(<span class="hljs-string">&quot;user.dir&quot;</span>)+<span class="hljs-string">&quot;\\src\\main\\java&quot;</span>)    //输出路径(写到java目录)<br>                            //.enableSwagger()           //开启swagger<br><span class="hljs-meta">                            .commentDate</span>(<span class="hljs-string">&quot;yyyy-MM-dd&quot;</span>)<br><span class="hljs-meta">                            .fileOverride</span>()<span class="hljs-comment">;            //开启覆盖之前生成的文件</span><br><br>                &#125;)<br><span class="hljs-meta">                .packageConfig</span>(builder -&gt; &#123;<br>                    builder<span class="hljs-number">.</span>parent(<span class="hljs-string">&quot;org.yunfree&quot;</span>)<br><span class="hljs-meta">                            .moduleName</span>(<span class="hljs-string">&quot;toutiao2023021&quot;</span>)<br><span class="hljs-meta">                            .entity</span>(<span class="hljs-string">&quot;model&quot;</span>)<br><span class="hljs-meta">                            .service</span>(<span class="hljs-string">&quot;service&quot;</span>)<br><span class="hljs-meta">                            .serviceImpl</span>(<span class="hljs-string">&quot;serviceImpl&quot;</span>)<br><span class="hljs-meta">                            .controller</span>(<span class="hljs-string">&quot;controller&quot;</span>)<br><span class="hljs-meta">                            .mapper</span>(<span class="hljs-string">&quot;mapper&quot;</span>)<br><span class="hljs-meta">                            .xml</span>(<span class="hljs-string">&quot;mapper&quot;</span>)<br><span class="hljs-meta">                            .pathInfo</span>(Collections<span class="hljs-number">.</span>singletonMap(OutputFile<span class="hljs-number">.</span>xml,System<span class="hljs-number">.</span>getProperty(<span class="hljs-string">&quot;user.dir&quot;</span>)+<span class="hljs-string">&quot;\\src\\main\\resources\\mapper&quot;</span>))<span class="hljs-comment">;</span><br>                &#125;)<br><span class="hljs-meta">                .strategyConfig</span>(builder -&gt; &#123;<br>                    builder<span class="hljs-number">.</span>addInclude(tables)<br><span class="hljs-meta">                            .addTablePrefix</span>(<span class="hljs-string">&quot;p_&quot;</span>)<br><span class="hljs-meta">                            .serviceBuilder</span>()<br><span class="hljs-meta">                            .formatServiceFileName</span>(<span class="hljs-string">&quot;%sService&quot;</span>)<br><span class="hljs-meta">                            .formatServiceImplFileName</span>(<span class="hljs-string">&quot;%sServiceImpl&quot;</span>)<br><span class="hljs-meta">                            .entityBuilder</span>()<br><span class="hljs-meta">                            .enableLombok</span>()<br><span class="hljs-meta">                            .logicDeleteColumnName</span>(<span class="hljs-string">&quot;deleted&quot;</span>)<br><span class="hljs-meta">                            .enableTableFieldAnnotation</span>()<br><span class="hljs-meta">                            .controllerBuilder</span>()<br><span class="hljs-meta">                            .formatFileName</span>(<span class="hljs-string">&quot;%sController&quot;</span>)<br><span class="hljs-meta">                            .enableRestStyle</span>()<br><span class="hljs-meta">                            .mapperBuilder</span>()<br><span class="hljs-meta">                            .enableBaseResultMap</span>()  //生成通用的resultMap<br><span class="hljs-meta">                            .superClass</span>(BaseMapper<span class="hljs-number">.</span>class)<br><span class="hljs-meta">                            .formatMapperFileName</span>(<span class="hljs-string">&quot;%sMapper&quot;</span>)<br><span class="hljs-meta">                            .enableMapperAnnotation</span>()<br><span class="hljs-meta">                            .formatXmlFileName</span>(<span class="hljs-string">&quot;%sMapper&quot;</span>)<span class="hljs-comment">;</span><br>                &#125;)<br>                //.templateEngine(new FreemarkerTemplateEngine()) // 使用Freemarker引擎模板，默认的是Velocity引擎模板<br><span class="hljs-meta">                .execute</span>()<span class="hljs-comment">;</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="MyBatisX插件生成-Service、Mapper、Model代码；"><a href="#MyBatisX插件生成-Service、Mapper、Model代码；" class="headerlink" title="MyBatisX插件生成  Service、Mapper、Model代码；"></a>MyBatisX插件生成  Service、Mapper、Model代码；</h4><ol><li><p>在idea中连接数据库</p><p><img src="https://raw.githubusercontent.com/yunfreehhh/picee/master/bolg/QQ%E6%88%AA%E5%9B%BE20230313201427.png" alt="image"></p></li><li><p>选中需要生成的数据库表，右键生成</p><p><img src="https://raw.githubusercontent.com/yunfreehhh/picee/master/bolg/QQ%E6%88%AA%E5%9B%BE20230313201607.png" alt="image"></p></li><li><p>修改相应配置点击生成</p><p><img src="https://raw.githubusercontent.com/yunfreehhh/picee/master/bolg/QQ%E6%88%AA%E5%9B%BE20230313201549.png" alt="image"></p></li></ol><h3 id="SpringBoot配置德鲁伊druid连接池"><a href="#SpringBoot配置德鲁伊druid连接池" class="headerlink" title="SpringBoot配置德鲁伊druid连接池"></a>SpringBoot配置德鲁伊druid连接池</h3><p>配置信息</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">datasource:</span><br>    <span class="hljs-attr">driver-class-name:</span> <span class="hljs-string">com.mysql.cj.jdbc.Driver</span><br>    <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://localhost:3306/toutiaodb</span><br>    <span class="hljs-attr">username:</span> <span class="hljs-string">root</span><br>    <span class="hljs-attr">password:</span> <span class="hljs-number">123456</span><br>    <span class="hljs-attr">type:</span> <span class="hljs-string">com.alibaba.druid.pool.DruidDataSource</span><br>    <span class="hljs-attr">druid:</span><br>      <span class="hljs-attr">initial-size:</span> <span class="hljs-number">5</span><br>      <span class="hljs-attr">min-idle:</span> <span class="hljs-number">5</span><br>      <span class="hljs-attr">max-wait:</span> <span class="hljs-number">30000</span><br>      <span class="hljs-attr">max-active:</span> <span class="hljs-number">20</span><br></code></pre></td></tr></table></figure><p>依赖信息</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs Java">&lt;dependency&gt;<br>    &lt;groupId&gt;com.alibaba&lt;/groupId&gt;<br>    &lt;artifactId&gt;druid-spring-boot-starter&lt;/artifactId&gt;<br>    &lt;version&gt;<span class="hljs-number">1.1</span><span class="hljs-number">.23</span>&lt;/version&gt;<br>&lt;/dependency&gt;<br></code></pre></td></tr></table></figure><h3 id="Mybatis-plus分页配置"><a href="#Mybatis-plus分页配置" class="headerlink" title="Mybatis-plus分页配置"></a>Mybatis-plus分页配置</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><br><span class="hljs-meta">@Configuration</span><br><span class="hljs-meta">@MapperScan(&quot;org.yunfree.toutiao202302.mapper&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MybatisPlusConfig</span> &#123;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 新的分页插件,一缓和二缓遵循mybatis的规则,需要设置 MybatisConfiguration#useDeprecatedExecutor = false 避免缓存出现问题(该属性会在旧插件移除后一同移除)</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-keyword">public</span> MybatisPlusInterceptor <span class="hljs-title function_">mybatisPlusInterceptor</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">MybatisPlusInterceptor</span> <span class="hljs-variable">interceptor</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MybatisPlusInterceptor</span>();<br>        interceptor.addInnerInterceptor(<span class="hljs-keyword">new</span> <span class="hljs-title class_">PaginationInnerInterceptor</span>(DbType.H2));<br>        <span class="hljs-keyword">return</span> interceptor;<br>    &#125;<br><br><span class="hljs-comment">//    @Bean</span><br><span class="hljs-comment">//    public ConfigurationCustomizer configurationCustomizer() &#123;</span><br><span class="hljs-comment">//        return configuration -&gt; configuration.setUseDeprecatedExecutor(false);</span><br><span class="hljs-comment">//    &#125;</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="SpringBoot全局跨域"><a href="#SpringBoot全局跨域" class="headerlink" title="SpringBoot全局跨域"></a>SpringBoot全局跨域</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//全局跨域</span><br><span class="hljs-meta">@Configuration</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CorsConfig</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">WebMvcConfigurer</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addCorsMappings</span><span class="hljs-params">(CorsRegistry registry)</span> &#123;<br>        registry.addMapping(<span class="hljs-string">&quot;/**&quot;</span>)<br>                <span class="hljs-comment">//是否发送Cookie</span><br>                .allowCredentials(<span class="hljs-literal">true</span>)<br>                <span class="hljs-comment">//放行哪些原始域</span><br>                .allowedOriginPatterns(<span class="hljs-string">&quot;*&quot;</span>)<br>                .allowedMethods(<span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>[]&#123;<span class="hljs-string">&quot;GET&quot;</span>, <span class="hljs-string">&quot;POST&quot;</span>, <span class="hljs-string">&quot;PUT&quot;</span>, <span class="hljs-string">&quot;DELETE&quot;</span>&#125;)<br>                .allowedHeaders(<span class="hljs-string">&quot;*&quot;</span>)<br>                .exposedHeaders(<span class="hljs-string">&quot;*&quot;</span>);<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>2023-3-13</p><hr>]]></content>
    
    
    <categories>
      
      <category>SpringBoot</category>
      
    </categories>
    
    
    <tags>
      
      <tag>SpringBoot德鲁伊连接池的配置</tag>
      
      <tag>SpringBoot自定义配置</tag>
      
      <tag>SpringBoot全局跨域</tag>
      
      <tag>Mybatis-plus自动生成代码</tag>
      
      <tag>Mybatis-plus分页配置</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>my first blog</title>
    <link href="/2023/03/11/my-first-blog/"/>
    <url>/2023/03/11/my-first-blog/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2023/03/11/hello-world/"/>
    <url>/2023/03/11/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
